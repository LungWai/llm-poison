(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{656:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var s=r(5155),n=r(2115),a=r(4477);let i=(0,a.createServerReference)("4094782dda56e77766c83e53635b20255f625a1437",a.callServer,void 0,a.findSourceMapURL,"toggleStatus");function l(e){let{id:t,status:r}=e,[a,l]=(0,n.useTransition)(),o=async e=>{e.preventDefault();let t=new FormData(e.currentTarget);l(()=>{i(t)})};return(0,s.jsxs)("form",{onSubmit:o,children:[(0,s.jsx)("input",{type:"hidden",name:"id",value:t}),(0,s.jsx)("input",{type:"hidden",name:"status",value:r}),(0,s.jsx)("button",{type:"submit",disabled:a,className:"px-3 py-1 text-sm font-semibold rounded-full disabled:opacity-50 ".concat("draft"===r?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"),children:a?"Updating...":"draft"===r?"Publish":"Unpublish"})]})}},4321:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(5155),n=r(2115),a=r(5109),i=r(8292),l=r(822),o=r(6414);function d(){let[e,t]=(0,n.useState)(""),[r,d]=(0,n.useState)(""),u=(0,o.U)(),c=(0,a.hG)({extensions:[i.W],content:"<p>Hello World! \uD83C\uDF0EÔ∏è</p>"}),m=async s=>{if(s.preventDefault(),!c)return;let{data:{user:n}}=await u.auth.getUser();if(n){let s=c.getHTML(),a=l.A.sanitize(s),{error:i}=await u.from("entries").insert([{title:e,slug:r,content:a,user_id:n.id,status:"draft",type:"page"}]);i?alert("Error: ".concat(i.message)):(alert("Entry created successfully!"),t(""),d(""),c.commands.clearContent())}else alert("You must be logged in to create an entry.")};return(0,s.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium",children:"Title"}),(0,s.jsx)("input",{type:"text",id:"title",value:e,onChange:e=>t(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"slug",className:"block text-sm font-medium",children:"Slug"}),(0,s.jsx)("input",{type:"text",id:"slug",value:r,onChange:e=>d(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Content"}),(0,s.jsx)("div",{className:"rounded-md border border-gray-300 p-2",children:(0,s.jsx)(a.$Z,{editor:c})})]}),(0,s.jsx)("button",{type:"submit",className:"inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Create Entry"})]})}},6414:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});var s=r(3865);function n(){return(0,s.createBrowserClient)("YOUR_PROJECT_URL","YOUR_ANON_KEY")}},6877:(e,t,r)=>{Promise.resolve().then(r.bind(r,656)),Promise.resolve().then(r.bind(r,4321))}},e=>{var t=t=>e(e.s=t);e.O(0,[4,277,865,221,441,684,358],()=>t(6877)),_N_E=e.O()}]);